---
import Layout from '../../layouts/Layout.astro';
import { format } from 'date-fns';

const posts = await Astro.glob('../../content/blog/**/*.md');
---

<Layout title="Analog Revival Blog" description="Explore articles on film photography, darkroom techniques, vintage cameras, and more.">
  <section class="py-8">
    <h1 class="text-3xl font-bold text-warm-gray-900 mb-4">Blog</h1>
    <ul class="space-y-4">
      {posts.map((post) => (
        <li class="bg-white rounded-md shadow-md p-4">
          <a href={post.url} class="block hover:bg-warm-gray-50 p-2 rounded-md">
            <h2 class="text-xl font-semibold text-warm-gray-800">{post.frontmatter.title}</h2>
            <p class="text-sm text-warm-gray-500">Published on: {format(new Date(post.frontmatter.pubDate), 'MMMM dd, yyyy')}</p>
            <p class="text-warm-gray-600">{post.frontmatter.description}</p>
          </a>
        </li>
      ))}
    </ul>
  </section>
</Layout>